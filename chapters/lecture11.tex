% !TeX program = xelatex
\documentclass[12pt]{article}
\input{../preamble.tex}
\counterwithout{theorem}{section}
\counterwithout{equation}{section}

\begin{document}
\section{Sheaf and sheaf cohomology}
\begin{definition}
  A \textbf{sheaf of sets} consists of the following three objects \((S,\pi,X)\) such
  that
  \begin{enumerate}[1.]
  \item \(S\) and \(X\) are topological spaces.
  \item \(\pi\colon S\to X\) is a local homeomorphism, that is, at any point \(s\in S\)
    there is a neighborhood \(V\ni s\) such that \(\pi\colon V\to \pi(V)\) is
    a homeomorphism.
  \end{enumerate}
\end{definition}
\begin{remark}
  Instead of \((S,\pi,X)\), only \(S\) is usually used to refer to a sheaf.
\end{remark}

\begin{definition}
  \(S_x=\pi^{-1}(x)\) is called a stalk (or fiber) over \(x\). Note that \(S_x\) is
  discrete set with respect to the relative topology in \(S\) (exercise).
\end{definition}
\begin{remark}
  For an open set \(U\subset X\), a continuous map \(\sigma\colon U\to S\) such that
  \(\pi\circ \sigma=\Id_U\) on \(U\) is called a \textbf{section} on \(U\).
  Note that \(\sigma(U)\) in this case is an open set in \(S\) (exercise).
\end{remark}

\begin{definition}
  \[
    \Gamma(U,S):=\{\sigma\colon U\to S:\sigma \text{ is a section on }U\}.
  \]
\end{definition}

Let \(S_1\) and \(S_2\) be two sheaves over \(X\), then \(S_1\times S_2\to X\times X\)
is a sheaf over \(X\times X\). We set \[
  S_1\oplus S_2=\{(s_1,s_2)\in S_1\times S_2:\pi_1(s_1)=\pi_2(s_2)\}
.\] Then with respect to the relative topology in \(S_1\times S_2\), \[
  S_1\oplus S_2\to X,\quad\pi(s_1,s_2)=\pi_1(s_1)=\pi_2(s_2)
\] becomes a sheaf over \(X\).

Let \(\pi\colon S\to X\) be a sheaf, and suppose each stalk \(S_x\) is an Abelian
group and that \(0_x\) is the zero in \(S_x\). We say that \(S\) is a \textbf{sheaf of
Abelian groups} if 
\begin{enumerate}[(a)]
\item \((s,t)\mapsto s+t\) is a continuous map from \(S\oplus S\) to \(S\). (Note 
  \(\pi(s)=\pi(t)\) be the definition of \(S\oplus S\)).
\item \(s\mapsto -s\) is a continuous map from \(S\) to \(S\).
\item The zero section \(x\to 0_x\) is a continuous map of \(X\) to \(S\).
\end{enumerate}

\begin{definition}
  \[
    \op{supp}S=\{x\in X:S_x\neq \{0_x\}\}
  \] is called the \textbf{support} of \(S\).
\end{definition}

We can define a \textbf{sheaf of rings}, \textbf{sheaf of modules} by the continuity
of algebraic operations similarly.

\begin{example}[Constant sheaf]
  Let \(A\) be an Abelian group with discrete topology, then \(S=X\times A\) is
  called the constant sheaf with stalk \(A\).
\end{example}

\begin{example}
  Constant sheaf \(X\times \mathbb{Z}\) has integer valued local functions as local
  sections
\end{example}

\begin{example}
  Constant sheaf \(X\times \mathbb{R}\) has real-valued constant functions as local
  sections as we give \(\mathbb{R}\) the discrete topology.
\end{example}

\begin{example}[Sheaf of continuous functions]
  Let \(U\) be an open set on a topological space \(X\), and put \[
    \mathcal{C}(U)=\{f\colon U\to \mathbb{R}(\text{or }\mathbb{C}):
    f\text{ is continuous}\}
  .\] Here we endow \(\mathbb{R}\) and \(\mathbb{C}\) the usual topology.

  Let \(x\in X\), and denote by \(\mathcal{U}_x\) the system of neighborhoods of \(x\).
  Define the equivalence relation \(\sim\) for \(f\in C(U)\) and \(g\in C(V)\) with
  \(U,V\in \mathcal{U}_x\) by \[
    f\sim g \iff \exists\,W\in \mathcal{U}_x, W\subset U\cap V\text{ and }
    f\big|_W=g\big|_W
  .\] An equivalence class represented by \(f\) is called the \textbf{germ} of \(f\)
  at \(x\), denoted by \(f_x\).

  The set \(\mathcal{C}_x\) of all germs of continuous functions at \(x\) is thus \[
    \mathcal{C}_x=\bigcup_{U\in \mathcal{U}_x}\mathcal{C}(U)/\sim
  .\] We further set \[
    \mathcal{C}=\bigcup_{x\in X}\mathcal{C}_x
  \] and give it a topology as follows:

  \emph{
  If \(f \in \mathcal{C}(U)\) then \(\{f_x:x\in U\}\) is an open set. And any open set
  is generated by such open sets.}

  Then \(\mathcal{C}\) becomes a sheaf of rings. It is called \textbf{the sheaf of
  (germs of) continuous functions} on \(X\). Obviously \[
    \Gamma(U,\mathcal{C})=\mathcal{C}(U)
  .\] 
\end{example}

\begin{example}
  Let \(X=\mathbb{R}\) and consider the sheaf of \(\mathbb{R}\)-valued continuous
  functions. Let \(f\) and \(g\) be two continuous functions such that \[
    \begin{cases}
      f(x)=g(x) & \text{ for } x\le 0, \\
      f(y)\neq g(y) & \text{ for } y>0
    \end{cases}
  .\] Then \(f_0\neq g_0\) as germs, but \(f_x=g_x\) for \(x<0\). Thus \(f_0\) and
  \(g_0\) cannot be separated by two open sets. \ie\ \(\mathcal{C}(\mathbb{R})\) is
  not Hausdorff.
\end{example}

\begin{example}[The structure sheaf of complex manifolds]
  Let \(X\) be a complex manifold, \(U\subset X\) open set. Define \[
    \mathcal{O}(U)=\text{the ring of all holomorphic functions on }U
  .\] Just as in the example above we can construct the sheaf of germs of holomorphic
  functions of \(X\). This is called the \textbf{structure sheaf} of \(X\) and denoted
  by \(\mathcal{O}\) or \(\mathcal{O}_X\)
\end{example}

\begin{definition}
  Let \(E\to M(=X)\) be a holomorphic vector bundle over a complex manifold \(M\).
  In this case too, we can consider the sheaf of germs of holomorphic sections of
  \(E\), denoted by \(\mathcal{O}(E)\).
\end{definition}

\begin{example}
  When \(E=\bigwedge^p T^{*\prime}M\), \(\mathcal{O}(E)\) is the sheaf of germs
  of holomorphic \(p\)-form on \(M\), denoted by \(\Omega^p\).
\end{example}

\begin{example}
  \(\Omega^p(E)=\mathcal{O}(E\otimes \bigwedge^p T^{*'}M)\) is called the sheaf of
  germs of \(E\)-valued holomorphic \(p\)-forms.
\end{example}

\begin{definition}
  If the stalk \(S_x\) of \(S\) is an \(\mathcal{O}_x\)-module and \[
    \mathcal{O}\oplus S\longrightarrow S,\quad (a,s)\longmapsto a\cdot s
  \] is continuous, we say \(S\) is an analytic sheaf. Here \(\mathcal{O}_x\) is the
  stalk of the structure sheaf \(\mathcal{O}\) at \(x\), that is, the ring of all
  germs of holomorphic functions at \(x\).
\end{definition}

\begin{example}
  \(\mathcal{O}(E)\) and \(\Omega^p\) are analytic sheaves.
\end{example}

\begin{definition}\hfill
\begin{enumerate}[(1)]
\item A continuous map \(f\colon S\to T\) with \(\pi\circ f=\pi\) is called a
  morphism or homomorphism of sheaves.
\item If \(S\) is an open subset of \(T\), \(S\) is called a subsheaf of \(T\).
\end{enumerate}
When \(S\) and \(T\) have algebraic structures, it is often required that the
homomorphism induces a homomorphism of stalks \(f_x\colon S_x\to T_x\). Also
subsheaf is required that \(S_x\) is a subgroup, subring or submodule of \(T_x\)
depending on the situation.
\end{definition}

\begin{definition}
  For a subsheaf \(S\) of a sheaf \(T\) of modules, we can define the quotient
  sheaf \(Q\) by \[
    Q_x=T_x/S_x,\quad Q=\bigcup_{x\in X}Q_x
  \] giving \(Q\) the quotient topology.
\end{definition}

\begin{example}
  If \(T\) is an analytic sheaf and \(S\) is an analytic sheaf of ideals of \(T\),
  then \(Q=T/S\) is an analytic sheaf.
\end{example}

\begin{definition}
  For a homomorphism \(f\colon S\to T\) of sheaves with algebraic structures,
  we can define in an obvious way that
  \begin{align*}
    \img f&=f(S),\ \text{which is a subsheaf of }T, \\
    \ker f&=f^{-1}(0_T),\ \text{which is a subsheaf of }S.
  \end{align*}
\end{definition}

\end{document}
