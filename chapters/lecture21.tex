% !TeX program = xelatex
\documentclass[12pt]{article}
\input{../preamble.tex}
\counterwithout{theorem}{section}
\counterwithout{equation}{section}

\begin{document}
Let \(L\to M\) be an ample line bundle over a compact complex manifold \(M\).
Since \(c_1(L)\) is positive, \(M\) is necessarily KÃ¤hler. Let \(\dim H^0(M,
\mathcal{O}(L))=N+1\). and choose a basis \(\vphi_0,\vphi_1,\ldots,\vphi_N\)
of \(H^0(M,\mathcal{O}(L))=\Gamma(M,\mathcal{O}(L))\), the space of global
sections of \(L\).

If we choose a local holomorphic frame \(e\) of \(L\) around \(p_0\), then there
are holomorphic functions \(h_i\) such that \(\vphi_i=h_i e\). If \(\exists\,i,
\vphi_i(p_0) \neq 0\). Then we have a map in a neighborhood of \(p_0\) to
\(\mathbb{P}^N(\mathbb{C})\): \[
  \Phi_L\colon p\longmapsto [h_0(p):h_1(p):\cdots:h_N(p)]
.\] Note this is independent of the local frame \(e\). We have the short exact
sequence \[
  0\lrr \mathcal{O}(L)\otimes \ell_{p_0}^2\lrr \mathcal{O}(L)\lrr \mathcal{O}(L)
  \otimes (\mathcal{O}_M/\ell_{p_0}^2)\lrr 0
\] where \(\ell_{p_0}^l\) is the sheaf of local holomorphic functions vanishing
at \(p_0\) with at least \(l\)-th order. Thus we get
\[\begin{tikzcd}[row sep=small,column sep=small]
	0 & {H^0(M,\mathcal{O}(L)\otimes \ell_{p_0}^2)} & {H^0(M,\mathcal{O}(L))} & {H^0(M,\mathcal{O}(L)\otimes (\mathcal{O}/\ell_{p_0}^2))} & \cdots \\
	&& {\Gamma(M,\mathcal{O}(L))} & {\Gamma(M,\mathcal{O}(L)\otimes(\mathcal{O}/\ell_{p_0}^2))}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\rho", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow["{=}"{marking, allow upside down}, draw=none, from=1-3, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow["{=}"{marking, allow upside down}, draw=none, from=1-4, to=2-4]
\end{tikzcd}\]

\begin{lemma}\label{lem:21-immersion}
  If \(\rho\colon\Gamma(\mathcal{O}(L))\to \Gamma(\mathcal{O}(L)\otimes (
  \mathcal{O}/\ell_{p_0}^2))\) is surjective then \(\Phi_L\) is defined as an
  immersion in a neighborhood of \(p_0\).
\end{lemma}
\begin{proof}
  Note that \(\mathcal{O}/\ell_{p_0}^2\) is a sky scraper sheaf whose stalk at
  \(p_0\) is expressed as \[
    f_0+f_1 z^1+\cdots +f_m z^m \pmod{\ell_{p_0}^2}
  \] where \(z^1,\ldots,z^m\) are local holomorphic coordinate around \(p_0\).
  If \(\rho\) is surjective we can choose the basis \(\vphi_0,\ldots,\vphi_N\)
  so that \[
    h_0=1,h_1=z^1,\ldots,h_m=z^m
  .\] In particular, \(\vphi_0(p_0)\neq 0\) and thus \(\Phi_L\) is defined.
  Further, the differential is injective from the expression of
  \(h_1,\ldots,h_m\).
\end{proof}
\begin{lemma}
  If \(L\) is ample then there is a large number \(\mu_0>0\) such that for any
  integer \(\mu\ge \mu_0\) and for any point \(p_0\in M\), \[
    \rho\colon\Gamma(\mathcal{O}(L^m))\lrr \Gamma(\mathcal{O}(L^\mu)\otimes 
    \mathcal{O}_M/\ell_{p_0}^2)
  \] is surjective.
\end{lemma}
\begin{proof}
  Let \(\pi\colon \tilde{M}=Q_{p_0}(M)\to M\) be the blow-up at \(p_0\) and
  \(E=\pi^{-1}(p_0)\) the exceptional divisor. For the ideal sheaf \(\ell_E\)
  of \(E\) we have the following commutative diagram of exact sequences:
  \[\begin{tikzcd}
    0 & {\ell_E^2} & {\mathcal{O}_{\tilde{M}}} & {\mathcal{O}_{\tilde{M}}/\ell_E^2} & 0 \\
    0 & {\ell_{p_0}^2} & {\mathcal{O}_M} & {\mathcal{O}_M/\ell_{p_0}^2} & 0
    \arrow[from=1-1, to=1-2]
    \arrow[from=2-1, to=2-2]
    \arrow["{\pi_1^*}", from=2-2, to=1-2]
    \arrow[from=1-2, to=1-3]
    \arrow[from=2-2, to=2-3]
    \arrow["{\pi^*}", from=2-3, to=1-3]
    \arrow[from=2-3, to=2-4]
    \arrow["{\pi_2^*}"', from=2-4, to=1-4]
    \arrow[from=1-3, to=1-4]
    \arrow[from=1-4, to=1-5]
    \arrow[from=2-4, to=2-5]
  \end{tikzcd}\]
  We claim \(\pi^*,\pi_1^*,\pi_2^*\) are all injective.

  First, the \(\pi^*\) is obviously an injection since \(\pi\) is surjective. To
  see \(\pi_1^*\) is injective, recall the description of blow-up \[
    W=\{(z,t)\in U\times \mathbb{P}^{m-1}(\mathbb{C}):z^it^j-z^jt^i=0,
    i,j=1,\ldots,m\}
  \] where \(t^1\neq 0\), we choose local coordinate \[
    z^1,u_1^2=\frac{t^2}{t^1},\ldots,u_1^m=\frac{t^m}{t^1}
  .\] \(E\) is given by \(z^1=0\) and \(\pi^*(z^j)=z^1 \frac{t^j}{t^1}\).
  Thus \(\pi^*(\mathcal{O}_{p_0}^2)\subset \ell_E^2\), and since \(\pi^*\)
  is the restriction of the injective map \(\pi^*\) to \(\ell_{p_0}^2\),
  \(\pi_1^*\) is also injective.

  Since \(\pi^*(\ell_{p_0}^2)\subset \ell_E^2\), \(\pi_2^*\) is defined. The
  image of \(\pi_2^*\) is expressed as \[
    f_0+f_1z^1+f_2z^1u_1^2+\cdots +f_mz^1u_1^m
  \] as computed above. This belongs to \(\ell_E^2\) is and only if 
  \(a_0=a_1=\cdots =a_m=0\). Thus \(\pi_2^*\) is injective.
  
  Let us denote \(\tilde{L}=\pi^*L\), since \(\mathcal{O}(L)\) (resp. 
  \(\mathcal{O}(\tilde{L})\)) is locally isomorphic to \(\mathcal{O}_M\)
  (resp. \(\mathcal{O}_{\tilde{M}}\)), we have 
  \[\begin{tikzcd}
    0 & {\mathcal{O}(\tilde{L})\otimes\ell_E^2} & {\mathcal{O}(\tilde{L})} & {\mathcal{O}({\tilde{L}})\otimes(\mathcal{O}_{\tilde{M}}/\ell_E^2)} & 0 \\
    0 & {\mathcal{O}(L)\otimes\ell_{p_0}^2} & {\mathcal{O}(L)} & {\mathcal{O}(L)\otimes(\mathcal{O}_M/\ell_{p_0}^2)} & 0
    \arrow[from=1-1, to=1-2]
    \arrow[from=2-1, to=2-2]
    \arrow["{\pi_1^*}", from=2-2, to=1-2]
    \arrow[from=1-2, to=1-3]
    \arrow[from=2-2, to=2-3]
    \arrow["{\pi^*}", from=2-3, to=1-3]
    \arrow[from=2-3, to=2-4]
    \arrow["{\pi_2^*}"', from=2-4, to=1-4]
    \arrow[from=1-3, to=1-4]
    \arrow[from=1-4, to=1-5]
    \arrow[from=2-4, to=2-5]
  \end{tikzcd}\]
  and it induces the commutative diagram of cohomology
  (We denote \(H^0=\Gamma\)):
  \[\begin{tikzcd}
    0 & {\Gamma(\mathcal{O}(\tilde{L})\otimes\ell_E^2)} & {\Gamma(\mathcal{O}(\tilde{L}))} & {\Gamma(\mathcal{O}({\tilde{L}})\otimes(\mathcal{O}_{\tilde{M}}/\ell_E^2))} & \cdots \\
    0 & {\Gamma(\mathcal{O}(L)\otimes\ell_{p_0}^2)} & {\Gamma(\mathcal{O}(L))} & {\Gamma(\mathcal{O}(L)\otimes(\mathcal{O}_M/\ell_{p_0}^2))} & \cdots
    \arrow[from=1-1, to=1-2]
    \arrow[from=2-1, to=2-2]
    \arrow["{\pi_1^*}", from=2-2, to=1-2]
    \arrow[from=1-2, to=1-3]
    \arrow[from=2-2, to=2-3]
    \arrow["{\pi^*}", from=2-3, to=1-3]
    \arrow["{\rho}", from=2-3, to=2-4]
    \arrow["{\pi_2^*}"', from=2-4, to=1-4]
    \arrow["{\tilde{\rho}}", from=1-3, to=1-4]
    \arrow[from=1-4, to=1-5]
    \arrow[from=2-4, to=2-5]
  \end{tikzcd}\]
  Of course \(H^1\) terms continue on the right.

  We know \(\pi^*,\pi^*,\pi_2^*\) are injective since they are injective on
  the germ level. We can see further \(\pi^*\) is an isomorphism. This is
  because \(\pi^*\) is isomorphic on \(M\setminus\{p_0\}\cong \tilde{M}\setminus
  E\) and \(\tilde{L}\big|_{E}=(\pi^*L)\big|_{E}=\pi^*(L_{p_0})=\mathcal{O}(E)\).
  Any global section of \(\tilde{L}\) is constant along \(E\). Thus it induces a
  section of \(L\) on \(M\setminus\{p_0\}\) but extends to \(p_0\). In the
  same way \(\pi_1^*\) is also isomorphic.

  One can see from the exact sequence above that if \(\tilde{\rho}\) is
  surjective then \(\rho\) is also surjective. This is because \(\pi^*\)
  is isomorphism an \(\pi_2^*\) is injective. It follows that, in order to
  complete the proof of lemma, we have only to apply the above arguments
  replacing \(L\) by \(L^\mu\), and show the surjectivity of \(\rho\) in the
  exact sequence \[
    \lrr H^0(\tilde{M},\tilde{L}^\mu)\xrr{\rho}H^0(\mathcal{O}(\tilde{L}^\mu)
    \otimes(\mathcal{O}_{\tilde{M}}/\ell_E^2))\lrr H^1(\tilde{M},\mathcal{O}(
    \tilde{L}^\mu)\otimes \ell_E^2)\lrr 
  .\] So it is sufficient to show \[
    H^1(\tilde{M},\mathcal{O}(\tilde{L}^\mu)\otimes \ell_E^2)=0
  .\] Since \(\ell_E\cong \mathcal{O}(-E)\), this \(H^1\) is isomorphic to \[
  H^1(\tilde{M},\mathcal{O}(\tilde{L}^\mu\otimes [E]^{-2}))
  \] and this vanishes by Kodaira vanishing theorem if \[
    \tilde{L}^{\mu}\otimes [E]^{-2}\otimes K_{\tilde{M}}^{-1}\cong 
    \tilde{L}^{\mu}\otimes [E]^{-m-1}\otimes \pi^*K_M^{-1}
  \] is ample. This is true by
  \ifdefined\FullBook \cref{lem:20-ample}
  \else the last lemma in lecture 20
  \fi by taking \(G=K_M^{-1}\).
\end{proof}

Thus by the previous two lemmas, for \(\mu\ge \mu_0\), we obtain an immersion \[
  \Phi_{L^\mu}\colon M\lrr \mathbb{P}^N(\mathbb{C})
\] where \(N+1=\dim H^0(M,L^\mu)\). Next we show this is an embedding.

\begin{remark}
  We showed \(\Phi_{L^\mu}\) is defined, which means for any \(p\), there exists
  \(s\in H^0(M,L^\mu)\) \st\ \(s\neq 0\) at \(p\). In general, for a line bundle
  \(L\to M\), \[
    \{p\in M:s(p)=0,\forall\,s\in H^0(M,\mathcal{O}(L))\}
  \] is called the base points of \(L\).
\end{remark}
\begin{definition}
  \(L\) is \textbf{base point free} or \textbf{semiample} if \(L\) does not
  have a base point. 
\end{definition}
Thus, we have proved above that if \(L\) is positive then
\(L^\mu\) is base point free.

\end{document}
