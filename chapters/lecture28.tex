% !TeX program = xelatex
\documentclass[12pt]{article}
\input{../preamble.tex}
\counterwithout{theorem}{section}
\counterwithout{equation}{section}

\begin{document}
We study more systematically on divisors including singular hypersurfaces.

Let \(M\) be a compact complex manifold.
\begin{definition}
  A closed subset \(A\) of \(M\) is called an \textbf{analytic subset} if at any
  point \(x\in A\) there is a neighborhood \(U\) of \(x\) in \(M\) such that
  \(U\cap A\) is expressed as a common zero set of finitely many holomorphic functions.
\end{definition}
\begin{definition}
  An analytic subset \(A\) is said to be \textbf{irreducible} if \(A\) can not be
  expressed as \[
    A=A'\cup A'',\quad A'\neq A,A''\neq A
  \] for two analytic subsets \(A',A''\).
\end{definition}
\begin{definition}
  A is said to be of \textbf{codimension 1} if \(A\) is expressed locally as a zero
  set of a single holomorphic function.
\end{definition}
\begin{definition}
  We call a codimension 1 analytic subset a \textbf{hypersurface}.
\end{definition}
\begin{definition}
  The \textbf{divisor group} of \(M\) is the free Abelian group generated by
  irreducible hypersurfaces. An element of the divisor group is called a
  \textbf{divisor}. Thus a divisor \(D\) is expressed using irreducible hypersurfaces
  \(A_1,\ldots,A_k\) and integers \(m_1,\ldots,m_k\) as \[
    D=m_1 A_1+\cdots +m_k A_k
  .\] When \(m_j\ge 0\) for all \(j=1,\ldots,k\), \(D\) is said to be \textbf{positive}
  or \textbf{effective}, and expressed as \(D\ge 0\). Finally,
  the set \(\bigcup_{m_j\neq 0}A_j\) is called the \textbf{support} of \(D\), denoted
  by \(\op{supp}D\).
\end{definition}
\begin{definition}
  A \textbf{meromorphic function} \(f\) on an open set \(U\subset M\) is the quotient
  of two holomorphic \(g\) and \(h\), \[
    f=\frac{g}{h}
  \] where \(g\) and \(h\) are relatively prime in \(\mathcal{O}(U)\).

  Let \(\mathscr{M}\) be the sheaf of germs of meromorphic functions. A global section
  of \(\mathscr{M}\) is called a meromorphic function on \(M\).
\end{definition}
\begin{example}
  Let \(g(X_0,\ldots,X_m)\) and \(h(X_0,\ldots,X_m)\) be relatively prime homogeneous
  polynomials of same degree. Then \[
    f(X_0,\ldots,X_m)=\frac{g(X_0,\ldots,X_m)}{h(X_0,\ldots,X_m)}
  \] is a meromorphic function on \(\mathbb{P}^m(\mathbb{C})\). (Such function is
  called rational functions).
\end{example}

The set \(\mathscr{M}(M)\) of all meromorphic functions is a field.

For a meromorphic function \(f\), let \(\op{zero}(f)\) and \(\op{pole}(f)\) be the
zero sets of \(f\) and \(\frac{1}{f}\) respectively. For an irreducible hypersurface
\(A\subset \op{zero}(f)\), let \(\nu_A(f)\) be the order of vanishing of \(f\)
(that is also \(g\)), shown as follows:

At a smooth point of \(A\) we choose local coordinates \(z^1,\ldots,z^m\) such that
\(A=\{z^m=0\}\) and write \[
  g(z^1,\ldots,z^m)=(z^m)^{\nu_A} g_1(z^1,\ldots,z^m)
\] for some maximal positive integer \(\nu\) and holomorphic function \(g_1\).
This is independent of the chosen smooth point because the set of smooth points of
\(A\) is an open, dense and connected subset.

Similarly for \(A\subset \op{pole}(f)=\op{zero}(\frac{1}{f})\), we put \[
  \nu_A(f)=-\nu_A(\frac{1}{f})
.\] Finally we put \[
  (f)=\sum_A \nu_A(f)A=(f)_0-(f)_\infty
.\] Where \[
  (f)_0=\sum_{A\subset\op{zero}(f)}\nu_A(f)A,\quad
  (f)_\infty=\sum_{A\subset\op{pole}(f)}\nu_A(f)A,
.\] We call such a divisor \((f)\) for a meromorphic function \(f\) a \textbf{principal
divisor}.

Two divisors \(D\) and \(D'\) are said to be \textbf{linearly equivalent} if \[
  D-D'=(f)
\] for some meromorphic function \(f\).

Let \(\op{Div}(M)\) denote the divisor groups of \(M\). Clearly the linear equivalence
is an equivalence relation on \(\op{Div}(M)\). An equivalence class is called a
\textbf{divisor class}. The set of all divisor classes forms a group, called the
\textbf{divisor class group}.

If we denote by \(\op{Div}_\ell(M)\) the subgroup of all principal divisors, then
the factor group \[
  \op{Div}(M)/\op{Div}_\ell(M)
\] is exactly the divisor class group.

For a given divisor \[
  D=\sum_{i=1}^{k}m_j A_j,\quad m_j \in \mathbb{Z},A_j\text{ irreducible}
,\] we have an open covering \(\{U_\alpha\}_{\alpha\in\Lambda}\) and \[
  D\cap U_\alpha=(f_\alpha),\quad f_\alpha=\prod_{j}f_{\alpha_j}^{m_j}
\] in such a way that \(f_\alpha\) and \(f_\beta\) have the same zero and pole with
same multiplicity on \(U_\alpha\cap U_\beta\). Thus \[
  f_{\alpha\beta}=\frac{f_\alpha}{f_\beta}
\] is a non-vanishing holomorphic function on \(U_\alpha\cap U_\beta\).
Taking \(\{f_{\alpha\beta}\}\) to be the transition functions we obtain a line bundle
\([D]\). One can check that another choice of \(f_\alpha\)'s gives an isomorphic
line bundle. It follows that we have a group homomorphism \[
  \op{Div}(M)\lrr \op{Pic}(M)
.\] If \(D\) is a principal divisor \(D=(f)\) for some meromorphic function, \[
  f_\alpha=f\big|_{U_\alpha}\quad\text{ and }\quad
  f_{\alpha\beta}=\frac{f\big|_{U_\alpha}}{f\big|_{U_\beta}}=1
.\] This gives a trivial line bundle (product bundle). Thus the above homomorphism
induces \[
  \op{Div}(M)/\op{Div}_\ell(M)\lrr \op{Pic}(M)
.\] 
\begin{theorem}
  Let \(M\) be a compact manifold. The homomorphism \[
    \op{Div}(M)/\op{Div}_\ell(M)\lrr \op{Pic}(M),\quad D\longmapsto [D]
  \] is injective.
\end{theorem}
\begin{proof}
  We need to show that if \([D]\) is isomorphic the trivial line bundle then \(D\) is
  a principal divisor. If so, then there is a global non-vanishing section of \([D]\).
  It is given by non-vanishing holomorphic functions \(\{s_\alpha\}\) satisfying \[
    s_\alpha=f_{\alpha\beta}s_\beta=\frac{f_\alpha}{f_\beta}s_\beta
  .\] Thus \[
    \frac{f_\alpha}{s_\alpha}=\frac{f_\beta}{s_\beta},\quad
    \text{ on }U_\alpha\cap U_\beta
  \] and \(g:=\frac{f_\alpha}{s_\alpha}\) defines a global meromorphic function on
  \(M\). Obviously \[
    (f)=(f_\alpha)=D\quad\text{ on each }U_\alpha
  .\] Thus \(D\) is a principal divisor.
\end{proof}

\end{document}
